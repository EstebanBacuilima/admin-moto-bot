<nz-card class="marketplace-product-card">
    <div class="product-header">
        <nav class="breadcrumb-nav">
            <span>{{ product?.category?.name }} / {{ product?.name }}</span>
        </nav>
    </div>

    <div nz-row [nzGutter]="24" class="product-content">
        <div nz-col [nzSpan]="12" class="product-carousel">
            <nz-carousel nzAutoPlay class="carousel">
                <ng-container *ngFor="let item of product?.productImages; let i = index">
                    <div nz-carousel-content class="carousel-content">
                        <img [src]="item.url" alt="Product Image {{ i + 1 }}" />
                    </div>
                </ng-container>
            </nz-carousel>
        </div>

        <div nz-col [nzSpan]="12" class="product-details">
            <p><em>REF {{product?.sku }}</em></p>
            <h1 class="product-name">{{ product?.name }} - {{ product?.category?.name }}</h1>
            <p>{{ product?.description }}</p>
            <p><em>{{ product?.brand?.description }}</em></p>
            <p class="product-price">
                <strong>Precio:</strong> <span>${{ product?.price }}</span>
            </p>


            <button nz-button (click)="openWhatsApp()"
                class="flex items-center justify-center gap-2 bg-[#25D366] hover:bg-[#a8ffb9] text-white font-semibold py-4 px-8 rounded-lg shadow-md transition-all duration-200 text-lg"
                style="height: 60px;">
                <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 24 24">
                    <path
                        d="M12 0C5.4 0 0 5.4 0 12c0 2.4.7 4.7 1.9 6.7L0 24l5.4-1.8C7.4 23.3 9.7 24 12 24c6.6 0 12-5.4 12-12S18.6 0 12 0zm7.3 16.2c-.3.9-1.4 1.6-2.4 1.8-.7.2-1.6.3-4.6-1-3.9-1.6-6.4-5.6-6.6-5.9-.2-.3-1.6-2.1-1.6-4 .1-1.8 1-2.6 1.3-2.9.3-.3.7-.4.9-.4h.7c.2 0 .5 0 .7.5.2.6.9 2.1 1 2.3.1.2.1.5 0 .7-.1.2-.2.3-.3.5-.2.3-.6.7-.8.9-.2.2-.5.5-.2.9.3.5 1.2 2 2.6 3.3 1.8 1.6 3.2 2.1 3.7 2.3.5.2.8.2 1.1-.2.3-.3 1.3-1.5 1.6-2 .2-.3.3-.5.7-.3.3.2 2 1 2.3 1.2.3.2.6.3.7.5.1.2.1 1-.2 1.9z" />
                </svg>
                Contáctanos por WhatsApp
            </button>

        </div>
    </div>

    <div class="tabs-container">
        <nz-card>
            <nz-tabset>
                <nz-tab nzTitle="Características">
                    <nz-table #basicTable [nzBordered]="true" [nzData]="product?.productAttributes ?? []"
                        [nzSize]="'middle'">
                        <thead>
                            <tr>
                                <th nzWidth="30%">Especificación</th>
                                <th>Descripción</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let spec of product?.productAttributes">
                                <td>{{ spec.attribute.name }}</td>
                                <td>{{ spec.value }}</td>
                            </tr>
                        </tbody>
                    </nz-table>
                </nz-tab>
                <nz-tab nzTitle="Descripción">
                    <p>{{ product?.description }}</p>
                </nz-tab>
                <nz-tab nzTitle="Marca">
                    <div class="brand-info">
                        <img [src]="product?.brand?.logo" alt="{{ product?.brand?.name }}" />
                        <p><strong>Nombre:</strong> {{ product?.brand?.name }}</p>
                        <p><strong>Descripción:</strong> {{ product?.brand?.description }}</p>
                    </div>
                </nz-tab>
                <nz-tab nzTitle="Categoría">
                    <div class="brand-info">
                        <img [src]="product?.category?.logo" alt="{{ product?.category?.name }}" />
                        <p><strong>Nombre:</strong> {{ product?.category?.name }}</p>
                        <p><strong>Descripción:</strong> {{ product?.category?.description }}</p>
                    </div>
                </nz-tab>
            </nz-tabset>
        </nz-card>
    </div>
</nz-card>